{% extends 'views/mail_base.html' %}
{% block title %} Mailbox - {{ address }} {% endblock %}
{% block body %}
    <div class="center-align">
    {% if mails|length > 0 %}
        You have {{ mails|length }} {% if mails|length == 1 %} mail {% else %} mails{% endif %}:

                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>From</th>
                            <th>Subject</th>
                            <th>Received at</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for mail in mails %}
                            <tr onclick="location='{{ url_for('gui.mail', address=address, token=token, _id=mail['id']) }}'"
                                    class="link">
                                <td> {{ mail['id'] }} </td>
                                <td> {{ mail['headers']['from'] }} </td>
                                <td> {{ mail['headers']['subject'] }} </td>
                                <td> {{ mail['headers']['date'] }} </td>
                            </tr>
                    {% endfor %}
                    </tbody>
                </table>
    {% else %}
        <div>Your mailbox is empty.</div>
    {% endif %}
    </div>
{% endblock %}